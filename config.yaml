system:
  random_seed: 42
  log_level: INFO

budget:
  monthly:
    inline: 50000
    sem: 30000
  costs:
    inline_per_wafer: 150
    sem_per_wafer: 800
    rework: 200

models:
  stage0:
    path: models/stage0_isolation_forest.pkl
    confidence_threshold: 0.7
    risk_thresholds:
      high: 0.7
      medium: 0.4

  stage1:
    path: models/stage1_xgboost.pkl
    wafer_value: 1000
    rework_cost: 200

  stage2a:
    path: models/stage2a_wat_classifier.pkl
    lot_scrap_cost: 500000
    wafer_value: 20000
    wafers_per_lot: 25
    uniformity_threshold: 0.10
    critical_params:
      - vth_nmos
      - vth_pmos
      - idsat_nmos
      - idsat_pmos
    spec_limits:
      vth_nmos: [0.35, 0.55]
      vth_pmos: [-0.55, -0.35]
      idsat_nmos: [400, 600]
      idsat_pmos: [200, 300]
      ioff_nmos: [0.0, 0.2]
      ioff_pmos: [0.0, 0.1]
      contact_resistance: [40, 60]
      sheet_resistance: [80, 120]
      breakdown_voltage: [5.0, 6.0]
      gate_oxide_integrity: [7.0, 9.0]
      dielectric_thickness: [3.0, 4.0]
      metal_resistance: [0.0, 0.1]
      via_resistance: [1.0, 3.0]
      capacitance: [8, 12]
      leakage_current: [0.0, 1.0]

  stage2b:
    path: models/stage2b_cnn.pkl
    sem_cost: 800
    severity_threshold: 0.7

  stage3:
    path: models/stage3_resnet.pkl
    confidence_threshold: 0.8

llm:
  provider: anthropic
  model: claude-sonnet-4-20250514
  api_key_env: ANTHROPIC_API_KEY
  max_tokens: 4000
  temperature: 0.3

discovery:
  enabled: true
  lookback_days: 14
  significance_threshold: 0.01

learning:
  enabled: true
  minimum_feedbacks: 50

simulation:
  engineer_mode: rough
  approval_rate_rough: 0.8
  approval_rate_detailed: 0.9
